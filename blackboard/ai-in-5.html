<!-- AI in 5 — Subscribe/Unsubscribe -->
<!-- Paste into: AI in 5 sidebar item > Build Content > Item > Toggle HTML Code View -->
<!-- Replace [SERVER_URL] with your progress tracker URL (e.g. http://10.x.x.x:5050) -->
<!-- Replace [ARCHIVE_URL] with the past challenges archive page URL -->

<div style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: -8px; padding: 0; background: #1A1A2E;">

<!-- ===== HERO SECTION ===== -->
<div style="background: #1A1A2E; padding: 40px 36px 36px; position: relative; overflow: hidden;">

<!-- Bold headline — left-aligned, multi-line, colour variation -->
<div style="margin-bottom: 6px;">
<div style="font-size: 2.6rem; font-weight: 800; line-height: 1.1; color: #E2E8F0; letter-spacing: -0.5px;">Stay curious.</div>
<div style="font-size: 2.6rem; font-weight: 800; line-height: 1.1; color: #F97316; letter-spacing: -0.5px;">Try something new.</div>
<div style="font-size: 2.6rem; font-weight: 800; line-height: 1.1; color: #FBBF24; letter-spacing: -0.5px;">Five minutes.</div>
</div>

<!-- Tagline -->
<div style="font-size: 1.05rem; color: #94A3B8; line-height: 1.5; margin-top: 16px; max-width: 520px;">
Weekly AI micro-challenges delivered to your inbox. No prep needed — just open, try, and learn something new.
</div>

<!-- Subscribe form — inline, left-aligned -->
<div style="margin-top: 24px; display: flex; gap: 0; flex-wrap: wrap; max-width: 520px;">
<input type="email" id="ai5-email" placeholder="your.name@curtin.edu.au"
  style="flex: 1; min-width: 220px; padding: 12px 16px; background: #16162A; border: 2px solid #2D2D4A; border-right: none; border-radius: 8px 0 0 8px; font-family: inherit; font-size: 1rem; color: #E2E8F0; box-sizing: border-box; outline: none;">
<button onclick="ai5Subscribe()" id="ai5-sub-btn"
  style="padding: 12px 28px; background: #6366F1; color: white; border: 2px solid #6366F1; border-radius: 0 8px 8px 0; font-size: 1rem; font-weight: 700; cursor: pointer; font-family: inherit; white-space: nowrap;">Subscribe</button>
</div>

<!-- Status message -->
<div id="ai5-msg" style="margin-top: 10px; font-size: 0.9rem; display: none;"></div>

<!-- Unsubscribe as subtle link -->
<div style="margin-top: 10px;">
<a href="javascript:void(0)" onclick="ai5Unsubscribe()" style="font-size: 0.8rem; color: #64748B; text-decoration: underline; cursor: pointer;">Unsubscribe from challenges</a>
</div>

<!-- Decorative icons — right side -->
<div style="position: absolute; right: 30px; bottom: 28px; text-align: right; opacity: 0.15;">
<div style="font-size: 4rem; line-height: 1;">⚡</div>
</div>

</div>

<!-- ===== SECONDARY SECTION ===== -->
<div style="background: #1A1A2E; padding: 20px 36px 36px; border-top: 1px solid #2D2D4A;">

<!-- Sample challenge — a dilemma to hook curiosity -->
<div style="background: #16162A; border: 1px solid #2D2D4A; border-radius: 10px; padding: 20px 24px; margin-bottom: 16px;">
<div style="font-size: 0.7rem; font-weight: 700; color: #F97316; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 10px;">⚖️ Sample Challenge — Quick Dilemma</div>
<div style="font-size: 1.1rem; font-weight: 700; line-height: 1.5; color: #F8FAFC; margin-bottom: 8px;">Your colleague uses AI to write all their student feedback. The comments are detailed, personalised, and helpful — better than what most staff write manually.</div>
<div style="font-size: 0.95rem; line-height: 1.6; color: #94A3B8;">Is this good practice or a shortcut? Does it matter if students can't tell? Where's the line between using AI as a tool and outsourcing your role?</div>
<div style="margin-top: 12px; font-size: 0.8rem; color: #64748B;">⏱️ ~5 minutes &nbsp;&bull;&nbsp; No right answer — just your thinking</div>
</div>

<!-- Past challenges link -->
<div style="text-align: left;">
<a href="[ARCHIVE_URL]" target="_blank" style="font-size: 0.85rem; font-weight: 600; color: #818CF8; text-decoration: none;">Browse past challenges →</a>
</div>

</div>

</div>

<script>
(function() {
  var SERVER = '[SERVER_URL]';

  function showMsg(text, colour) {
    var el = document.getElementById('ai5-msg');
    el.textContent = text;
    el.style.color = colour;
    el.style.display = 'block';
  }

  function getEmail() {
    var email = document.getElementById('ai5-email').value.trim().toLowerCase();
    if (!email || email.indexOf('@') === -1) {
      showMsg('Please enter a valid email address.', '#F87171');
      return null;
    }
    return email;
  }

  window.ai5Subscribe = function() {
    var email = getEmail();
    if (!email) return;
    var btn = document.getElementById('ai5-sub-btn');
    btn.textContent = 'Subscribing...';
    btn.disabled = true;
    fetch(SERVER + '/subscribe', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email: email })
    })
    .then(function(r) { return r.json(); })
    .then(function() {
      showMsg('You\'re in! Watch your inbox for weekly challenges.', '#4ADE80');
      btn.textContent = 'Subscribe';
      btn.disabled = false;
    })
    .catch(function() {
      showMsg('Could not connect to server. Are you on the Curtin network or VPN?', '#F87171');
      btn.textContent = 'Subscribe';
      btn.disabled = false;
    });
  };

  window.ai5Unsubscribe = function() {
    var email = getEmail();
    if (!email) return;
    fetch(SERVER + '/unsubscribe', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email: email })
    })
    .then(function(r) { return r.json(); })
    .then(function() {
      showMsg('You\'ve been unsubscribed. You can rejoin any time.', '#94A3B8');
    })
    .catch(function() {
      showMsg('Could not connect to server. Are you on the Curtin network or VPN?', '#F87171');
    });
  };
})();
</script>
