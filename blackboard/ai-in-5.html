<!-- AI in 5 ‚Äî Subscribe/Unsubscribe -->
<!-- Paste into: AI in 5 sidebar item > Build Content > Item > Toggle HTML Code View -->
<!-- Replace [SERVER_URL] with your progress tracker URL (e.g. http://10.x.x.x:5050) -->

<div style="font-family: Georgia, serif; max-width: 640px; margin: 0 auto;">

<!-- Header -->
<div style="background: linear-gradient(135deg, #4F46E5, #7C3AED, #A855F7); color: white; padding: 24px; border-radius: 12px; text-align: center; margin-bottom: 20px;">
<div style="font-size: 2rem;">‚ö°</div>
<div style="font-size: 1.6rem; font-weight: bold; letter-spacing: 2px;">AI in 5</div>
<div style="font-size: 0.95rem; opacity: 0.9;">One challenge. Five minutes. Every weekday.</div>
</div>

<!-- Subscribe Form ‚Äî the main action, always visible -->
<div id="ai5-form" style="background: white; border: 2px solid #E2E8F0; border-radius: 12px; padding: 24px; text-align: center; margin-bottom: 20px;">
<div style="font-size: 1.1rem; font-weight: bold; color: #1E293B; margin-bottom: 4px;">Get daily AI micro-challenges in your inbox</div>
<div style="font-size: 0.85rem; color: #64748B; margin-bottom: 14px;">No prep needed ‚Äî just open, try, and learn something new.</div>
<div style="margin-bottom: 14px;">
<input type="email" id="ai5-email" placeholder="your.name@curtin.edu.au" style="width: 80%; max-width: 320px; padding: 12px 16px; border: 2px solid #E2E8F0; border-radius: 8px; font-family: inherit; font-size: 1rem; box-sizing: border-box;">
</div>
<div style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap;">
<button onclick="ai5Subscribe()" id="ai5-sub-btn" style="padding: 12px 28px; background: linear-gradient(135deg, #4F46E5, #7C3AED); color: white; border: none; border-radius: 8px; font-size: 1rem; font-weight: bold; cursor: pointer; font-family: inherit;">Subscribe</button>
<button onclick="ai5Unsubscribe()" style="padding: 12px 28px; background: white; color: #64748B; border: 2px solid #E2E8F0; border-radius: 8px; font-size: 1rem; cursor: pointer; font-family: inherit;">Unsubscribe</button>
</div>
<div id="ai5-msg" style="margin-top: 14px; font-size: 0.95rem; display: none;"></div>
</div>

<!-- Weekly Themes -->
<details style="margin-bottom: 16px;">
<summary style="font-size: 0.85rem; font-weight: bold; color: #475569; cursor: pointer; padding: 6px 0; list-style: none;">‚ñ∏ What will I get each day?</summary>
<div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px; margin-top: 10px;">
<div style="background: #EEF2FF; padding: 10px 4px; border-radius: 8px; text-align: center;">
<div style="font-size: 1.2rem;">üîß</div>
<div style="font-size: 0.65rem; color: #6366F1; font-weight: bold;">MON</div>
<div style="font-size: 0.8rem; color: #1E293B; font-weight: bold;">Tools</div>
</div>
<div style="background: #FFF7ED; padding: 10px 4px; border-radius: 8px; text-align: center;">
<div style="font-size: 1.2rem;">üí¨</div>
<div style="font-size: 0.65rem; color: #EA580C; font-weight: bold;">TUE</div>
<div style="font-size: 0.8rem; color: #1E293B; font-weight: bold;">Prompts</div>
</div>
<div style="background: #FDF2F8; padding: 10px 4px; border-radius: 8px; text-align: center;">
<div style="font-size: 1.2rem;">‚öñÔ∏è</div>
<div style="font-size: 0.65rem; color: #DB2777; font-weight: bold;">WED</div>
<div style="font-size: 0.8rem; color: #1E293B; font-weight: bold;">Ethics</div>
</div>
<div style="background: #F0FDF4; padding: 10px 4px; border-radius: 8px; text-align: center;">
<div style="font-size: 1.2rem;">üõ†Ô∏è</div>
<div style="font-size: 0.65rem; color: #16A34A; font-weight: bold;">THU</div>
<div style="font-size: 0.8rem; color: #1E293B; font-weight: bold;">Practice</div>
</div>
<div style="background: #FFFBEB; padding: 10px 4px; border-radius: 8px; text-align: center;">
<div style="font-size: 1.2rem;">ü§ù</div>
<div style="font-size: 0.65rem; color: #CA8A04; font-weight: bold;">FRI</div>
<div style="font-size: 0.8rem; color: #1E293B; font-weight: bold;">Share</div>
</div>
</div>
</details>

<!-- Sample Challenge -->
<details style="margin-bottom: 16px;">
<summary style="font-size: 0.85rem; font-weight: bold; color: #475569; cursor: pointer; padding: 6px 0; list-style: none;">‚ñ∏ Show me a sample challenge</summary>
<div style="background: #1E293B; color: white; padding: 16px; border-radius: 8px; margin-top: 10px;">
<div style="font-size: 0.7rem; color: #94A3B8; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px;">Tuesday ‚Äî Prompts</div>
<div style="font-size: 0.95rem; line-height: 1.6; color: #E2E8F0;">"Write a prompt asking AI to summarise something from your field. What did it get right? What did it miss?"</div>
<div style="margin-top: 8px; font-size: 0.8rem; color: #94A3B8;">‚è±Ô∏è ~5 minutes</div>
</div>
</details>

</div>

<script>
(function() {
  var SERVER = '[SERVER_URL]';

  function showMsg(text, colour) {
    var el = document.getElementById('ai5-msg');
    el.textContent = text;
    el.style.color = colour;
    el.style.display = 'block';
  }

  function getEmail() {
    var email = document.getElementById('ai5-email').value.trim().toLowerCase();
    if (!email || email.indexOf('@') === -1) {
      showMsg('Please enter a valid email address.', '#DC2626');
      return null;
    }
    return email;
  }

  window.ai5Subscribe = function() {
    var email = getEmail();
    if (!email) return;
    var btn = document.getElementById('ai5-sub-btn');
    btn.textContent = 'Subscribing...';
    btn.disabled = true;
    fetch(SERVER + '/subscribe', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email: email })
    })
    .then(function(r) { return r.json(); })
    .then(function() {
      showMsg('You\'re in! Watch your inbox for daily challenges.', '#16A34A');
      btn.textContent = 'Subscribe';
      btn.disabled = false;
    })
    .catch(function() {
      showMsg('Could not connect to server. Are you on the Curtin network or VPN?', '#DC2626');
      btn.textContent = 'Subscribe';
      btn.disabled = false;
    });
  };

  window.ai5Unsubscribe = function() {
    var email = getEmail();
    if (!email) return;
    fetch(SERVER + '/unsubscribe', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email: email })
    })
    .then(function(r) { return r.json(); })
    .then(function() {
      showMsg('You\'ve been unsubscribed. You can rejoin any time.', '#64748B');
    })
    .catch(function() {
      showMsg('Could not connect to server. Are you on the Curtin network or VPN?', '#DC2626');
    });
  };
})();
</script>
